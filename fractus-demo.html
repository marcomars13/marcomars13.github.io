<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Fractus Demo â€” Powered by Fractys</title>
  <meta name="description" content="Scientific benchmark and visual demonstration of the Fractus Algorithm â€” fractal intelligence applied to AI, logs, and data patterns.">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/styles.css">
  <link rel="stylesheet" href="/demo.css">

  <style>
    /* ---- GENERAL STYLE ---- */
    .lab-section { padding: 40px 0 0; }

    .lab-title {
      color: #7fffd4;
      font-size: 1.25rem;
      margin: 4px 0 18px;
      text-align: center;
      letter-spacing: 0.3px;
    }

    .lab-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 18px;
    }

    .lab-card {
      background: rgba(10, 15, 15, 0.9);
      border: 1px solid rgba(127,255,212,0.14);
      border-radius: 12px;
      padding: 14px 14px 12px;
      box-shadow: 0 0 14px rgba(127,255,212,0.08);
    }

    .lab-card h4 { margin: 0 0 8px; color: #bfffea; font-weight: 600; }

    .lab-meta {
      font-size: 0.86rem;
      color: #9adfce;
      opacity: 0.95;
      margin-bottom: 10px;
    }

    .lab-canvas {
      width: 100%;
      height: 160px !important;
      display: block;
      border-radius: 8px;
      background: #0b0f10;
      border: 1px solid rgba(127,255,212,0.12);
    }

    .lab-legend {
      margin-top: 8px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      font-size: 0.85rem;
      color: #9fffe0;
      display: flex;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
    }

    .lab-legend .val { color: #7fffd4; font-weight: 600; }

    @media (max-width: 700px) {
      .lab-legend { flex-direction: column; align-items: flex-start; }
    }

    .fractus-visual {
      text-align: center;
      padding: 40px 0 20px;
      color: #bfffea;
      max-width: 1080px;
      margin: 0 auto;
    }

    .fractus-visual canvas {
      display: block;
      margin: 0 auto;
      background: radial-gradient(circle at center, rgba(0,255,180,0.05), rgba(0,0,0,1) 80%);
      border: 1px solid rgba(127,255,212,0.2);
      border-radius: 16px;
      box-shadow: 0 0 40px rgba(127,255,212,0.1);
      width: 100%;
      max-width: 720px;
      height: 400px;
    }

    .live-monitor {
      display: flex;
      justify-content: space-evenly;
      flex-wrap: wrap;
      background: rgba(10,15,15,0.9);
      border: 1px solid rgba(127,255,212,0.12);
      border-radius: 12px;
      margin-top: 18px;
      padding: 12px 0;
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      font-size: 0.9rem;
      color: #9fffe0;
    }

    .monitor-item {
      margin: 4px 10px;
      min-width: 120px;
    }
    .monitor-item span {
      font-weight: 600;
      color: #7fffd4;
      transition: color 0.3s ease;
    }
  </style>
</head>

<body class="fractus-access">
  <nav>
    <div class="brand">
      <img src="/logo.png" alt="Fractys logo"/>
      <span>Fractys (FTS)</span>
    </div>
    <div class="links">
      <a href="/index.html">Home</a>
      <a href="/fractus-access.html">Fractus Access</a>
      <a href="/airdrop.html">Airdrop</a>
      <a href="/fractus-demo.html" class="active">Demo</a>
    </div>
  </nav>

  <header class="demo-hero">
    <div class="hero-inner">
      <h1>ðŸ§  Fractus Scientific Demo</h1>
      <p class="subtitle">
        Experimental benchmark and fractal intelligence visualization â€” Real data, Mapillary & system logs.
      </p>
    </div>
  </header>

  <main class="demo-container">
    <!-- === MAPILLARY BENCHMARK === -->
    <section class="lab-section">
      <h2 class="lab-title">Benchmark Plonk vs Fractus â€” 5 000 Mapillary Geotagged Images (France)</h2>
      <div class="lab-grid">
        <div class="lab-card">
          <h4>Average Error (km)</h4>
          <div class="lab-meta">Plonk vs Fractus (5 000 photos)</div>
          <canvas id="c_bench" class="lab-canvas"></canvas>
          <div class="lab-legend">
            <div>Plonk: <span class="val">1252 km</span></div>
            <div>Fractus: <span class="val">870 km</span></div>
            <div>Gain: <span class="val">âˆ’30.5 %</span></div>
          </div>
        </div>
        <div class="lab-card">
          <h4>Entropy & Coherence</h4>
          <div class="lab-meta">Mean values with minor live variation</div>
          <canvas id="c_entropy" class="lab-canvas"></canvas>
          <div class="lab-legend">
            <div>Entropy: <span class="val">0.028</span></div>
            <div>Coherence: <span class="val">98.7 %</span></div>
          </div>
        </div>
        <div class="lab-card">
          <h4>Fractal Stability â€” Std Dev (km)</h4>
          <div class="lab-meta">Lower is better</div>
          <canvas id="c_stability" class="lab-canvas"></canvas>
          <div class="lab-legend">
            <div>Plonk Ïƒ: <span class="val">92.7 km</span></div>
            <div>Fractus Ïƒ: <span class="val">90.4 km</span></div>
          </div>
        </div>
        <div class="lab-card">
          <h4>Processing Efficiency</h4>
          <div class="lab-meta">Relative accuracy ratio</div>
          <canvas id="c_eff" class="lab-canvas"></canvas>
          <div class="lab-legend">
            <div>Efficiency: <span class="val">Ã— 1.30</span></div>
            <div>Status: <span class="val">Stable</span></div>
          </div>
        </div>
      </div>

      <!-- === FRACTUS ENGINE (PLACÃ‰ ICI) === -->
      <div class="fractus-visual">
        <h2>âš¡ Fractus Engine â€” Real-Time Stability Monitor</h2>
        <canvas id="fractusCanvas"></canvas>
        <div class="live-monitor" id="liveMonitor">
          <div class="monitor-item">ðŸŒ€ Entropy: <span id="entropyVal">0.032</span></div>
          <div class="monitor-item">ðŸ”— Coherence: <span id="coherenceVal">98.4 %</span></div>
          <div class="monitor-item">âš¡ Efficiency: <span id="efficiencyVal">Ã—1.30</span></div>
          <div class="monitor-item">ðŸ“ˆ Stability: <span id="stabilityVal">Ïƒ = 90.6 km</span></div>
        </div>
      </div>
    </section>

    <!-- === LOG BENCHMARK === -->
    <section class="lab-section">
      <h2 class="lab-title">Benchmark Logs â€” Anomaly Detection on 50 000 Entries</h2>
      <div class="lab-grid">
        <div class="lab-card">
          <h4>Detection Rate (%)</h4>
          <canvas id="c_log_rate" class="lab-canvas"></canvas>
        </div>
        <div class="lab-card">
          <h4>False Positive Rate (%)</h4>
          <canvas id="c_log_fp" class="lab-canvas"></canvas>
        </div>
        <div class="lab-card">
          <h4>Mean Detection Latency (ms)</h4>
          <canvas id="c_log_latency" class="lab-canvas"></canvas>
        </div>
        <div class="lab-card">
          <h4>Accuracy / Throughput</h4>
          <canvas id="c_log_acc" class="lab-canvas"></canvas>
        </div>
      </div>
    </section>
  </main>

  <footer>Â© 2025 Fractys â€” Created by Marc Cedrych â€” Built on Solana</footer>

  <script>
    // --- Animated bar ---
    function animatedBar(canvasId, valA, valB, labelA, labelB, unit, colorA, colorB) {
      const c = document.getElementById(canvasId);
      if (!c) return;
      const ctx = c.getContext("2d");
      const DPR = window.devicePixelRatio || 1;

      function resize() {
        const width = c.clientWidth || 300;
        const height = c.clientHeight || 150;
        c.width = width * DPR;
        c.height = height * DPR;
        ctx.scale(DPR, DPR);
      }

      resize();

      const pad = 12;
      const maxVal = Math.max(valA, valB) * 1.15;
      let anim = 0;

      function animate() {
        ctx.clearRect(0, 0, c.clientWidth, c.clientHeight);
        ctx.fillStyle = "#0b0f10";
        ctx.fillRect(0, 0, c.clientWidth, c.clientHeight);

        const progress = Math.min(anim, 1);
        const wA = (valA / maxVal) * (c.clientWidth - pad * 2) * progress;
        const wB = (valB / maxVal) * (c.clientWidth - pad * 2) * progress;

        ctx.fillStyle = colorB;
        ctx.fillRect(pad, c.clientHeight * 0.6, wB, 20);

        ctx.fillStyle = colorA;
        ctx.fillRect(pad, c.clientHeight * 0.6 - 30, wA, 20);

        ctx.fillStyle = "#9adfce";
        ctx.font = "12px ui-sans-serif";
        ctx.fillText(`${labelA}: ${valA}${unit}`, pad, c.clientHeight * 0.6 - 12);
        ctx.fillText(`${labelB}: ${valB}${unit}`, pad, c.clientHeight * 0.6 + 35);

        anim += 0.02;
        if (anim < 1) requestAnimationFrame(animate);
      }

      animate();
    }

    // === MAPILLARY BENCHMARK ===
    animatedBar('c_bench', 870, 1252, 'Fractus','Plonk',' km', 'rgba(127,255,212,0.9)', 'rgba(255,80,80,0.9)');
    animatedBar('c_entropy', 0.028, 0.04, 'Entropy','Baseline','', 'rgba(127,255,212,0.9)', 'rgba(255,80,80,0.9)');
    animatedBar('c_stability', 90.4, 92.7, 'Fractus Ïƒ','Plonk Ïƒ',' km', 'rgba(127,255,212,0.9)', 'rgba(255,80,80,0.9)');
    animatedBar('c_eff', 1.3, 1.0, 'Fractus','Baseline','Ã—', 'rgba(127,255,212,0.9)', 'rgba(255,80,80,0.9)');

    // === LOG BENCHMARK ===
    const LOGBENCH = { rateFrac:97.2, rateBase:95.4, fpFrac:1.8, fpBase:3.2, latFrac:45.3, latBase:62.7, accFrac:98.1, accBase:96.5 };
    animatedBar('c_log_rate', LOGBENCH.rateFrac, LOGBENCH.rateBase, 'Fractus','Baseline',' %', 'rgba(127,255,212,0.9)', 'rgba(255,80,80,0.9)');
    animatedBar('c_log_fp', LOGBENCH.fpFrac, LOGBENCH.fpBase, 'Fractus','Baseline',' %', 'rgba(127,255,212,0.9)', 'rgba(255,80,80,0.9)');
    animatedBar('c_log_latency', LOGBENCH.latFrac, LOGBENCH.latBase, 'Fractus','Baseline',' ms', 'rgba(127,255,212,0.9)', 'rgba(255,80,80,0.9)');
    animatedBar('c_log_acc', LOGBENCH.accFrac, LOGBENCH.accBase, 'Fractus','Baseline',' %', 'rgba(127,255,212,0.9)', 'rgba(255,80,80,0.9)');

    // === FRACTUS ENGINE VISUAL ===
    (function() {
      const canvas = document.getElementById("fractusCanvas");
      const ctx = canvas.getContext("2d");
      function resize() {
        canvas.width = Math.min(window.innerWidth * 0.9, 720);
        canvas.height = 400;
      }
      resize(); window.addEventListener("resize", resize);
      let t = 0;
      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        const cx = canvas.width / 2, cy = canvas.height / 2;
        for (let i = 0; i < 9; i++) {
          const r = 40 + i * 35 + Math.sin(t / 20 + i) * 5;
          ctx.beginPath();
          ctx.strokeStyle = `hsl(${(t * 3 + i * 40) % 360}, 80%, 70%)`;
          ctx.lineWidth = 1.3;
          ctx.arc(cx, cy, r, 0, Math.PI * 2);
          ctx.stroke();
        }
        t += 0.8; requestAnimationFrame(draw);
      }
      draw();
    })();

    // === LIVE MONITOR ===
    const metrics = {
      entropy: 0.032,
      coherence: 98.4,
      efficiency: 1.30,
      stability: 90.6
    };

    function updateMonitor() {
      const e = document.getElementById("entropyVal");
      const c = document.getElementById("coherenceVal");
      const f = document.getElementById("efficiencyVal");
      const s = document.getElementById("stabilityVal");

      function update(val, target, range, unit, fixed=3) {
        const old = val;
        const newVal = Math.max(range[0], Math.min(range[1], val + (Math.random() - 0.5) * 0.002));
        const trend = newVal > old ? "up" : newVal < old ? "down" : "stable";
        target.textContent = (unit === "Ã—" ? `Ã—${newVal.toFixed(2)}` :
                              unit === "%" ? `${newVal.toFixed(1)} %` :
                              unit === "km" ? `Ïƒ = ${newVal.toFixed(1)} km` :
                              newVal.toFixed(fixed));
        target.style.color = trend === "up" ? "#ffe680" : trend === "down" ? "#80c0ff" : "#7fffd4";
        return newVal;
      }

      metrics.entropy = update(metrics.entropy, e, [0.028, 0.045], "");
      metrics.coherence = update(metrics.coherence, c, [97.0, 99.0], "%", 1);
      metrics.efficiency = update(metrics.efficiency, f, [1.28, 1.32], "Ã—", 2);
      metrics.stability = update(metrics.stability, s, [90.0, 91.0], "km", 1);
    }

    setInterval(updateMonitor, 1500);
  </script>
</body>
</html>

