<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Fractus Demo ‚Äî Powered by Fractys</title>
  <meta name="description" content="Scientific benchmark and visual demonstration of the Fractus Algorithm ‚Äî fractal intelligence applied to AI, logs, and data patterns.">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/styles.css">
  <link rel="stylesheet" href="/demo.css">
  <style>
    /* ---------- Vignette (photo + m√©ta) ---------- */
    .sample-viewer {
      max-width: 1080px; margin: 8px auto 18px; padding: 12px;
      background: rgba(10,15,15,.9); border:1px solid rgba(127,255,212,.14);
      border-radius: 12px; box-shadow:0 0 14px rgba(127,255,212,.08);
      display: grid; grid-template-columns: 220px 1fr; gap: 12px; align-items: center;
    }
    .sample-thumb {
      width: 100%; aspect-ratio: 4/3; object-fit: cover; border-radius: 10px;
      border:1px solid rgba(127,255,212,.18); box-shadow:0 0 12px rgba(127,255,212,.10);
      background: radial-gradient(120% 80% at 50% 50%, rgba(127,255,212,.06), rgba(0,0,0,.9));
    }
    .thumb-fallback {
      display:flex; align-items:center; justify-content:center;
      width:100%; aspect-ratio:4/3; border-radius:10px;
      border:1px solid rgba(127,255,212,.18); color:#9fffe0;
      font-family:ui-monospace,monospace;
      background: repeating-linear-gradient(45deg, rgba(127,255,212,.06) 0 12px, rgba(0,0,0,.9) 12px 24px);
    }
    .sample-meta {
      display:grid; grid-template-columns: repeat(auto-fit, minmax(180px,1fr));
      gap:8px; color:#9fffe0; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:.9rem;
    }
    .badge { display:inline-flex; gap:6px; align-items:center; padding:4px 8px;
      border:1px solid rgba(127,255,212,.22); border-radius:8px; color:#9fffe0; background: rgba(10,15,15,.88); }
    .muted { color:#7fbfb0; }

    /* ---------- Disposition centrale (4 cartes + roue en dessous) ---------- */
    .fractus-lab-center {
      padding: 32px 0 42px;
    }

    .fractus-grid-core {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      grid-template-rows: auto auto auto;
      grid-template-areas:
        "error entropy"
        "stability eff"
        "center center";
      gap: 26px 40px;
      align-items: start;
      justify-items: center;
      max-width: 1100px;
      margin: 0 auto;
    }

    #card-error     { grid-area: error; }
    #card-entropy   { grid-area: entropy; }
    #card-stability { grid-area: stability; }
    #card-eff       { grid-area: eff; }
    .engine-core    { grid-area: center; }

    .engine-core {
      background: radial-gradient(circle at center, rgba(0,255,180,0.05), rgba(0,0,0,1) 85%);
      border-radius: 18px;
      box-shadow: 0 0 25px rgba(127,255,212,0.12);
      padding: 14px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 100%;
      max-width: 420px;
      margin-top: -10px;
    }

    .engine-core canvas {
      width: 100%;
      max-width: 380px;
      height: 220px;
      border-radius: 12px;
      border: 1px solid rgba(127,255,212,0.2);
    }

    /* L√©gende */
    .live-monitor {
      margin-top: 10px;
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      gap: 8px;
      font-family: ui-monospace, monospace;
      font-size: 0.9rem;
      color: #9fffe0;
      width: 100%;
      background: rgba(0,0,0,0.3);
      border: 1px solid rgba(127,255,212,0.12);
      border-radius: 8px;
      padding: 6px;
    }

    /* Responsive */
    @media (max-width: 900px) {
      .fractus-grid-core {
        grid-template-columns: 1fr;
        grid-template-areas:
          "error"
          "entropy"
          "stability"
          "eff"
          "center";
        gap: 22px;
      }

      .engine-core {
        max-width: 100%;
        margin-top: 0;
      }

      .engine-core canvas {
        max-width: 100%;
        height: 200px;
      }
    }
  </style>
</head>

<body class="fractus-access">
  <nav>
    <div class="brand">
      <img src="/logo.png" alt="Fractys logo"/>
      <span>Fractys (FTS)</span>
    </div>
    <div class="links">
      <a href="/index.html">Home</a>
      <a href="/fractus-access.html">Fractus Access</a>
      <a href="/airdrop.html">Airdrop</a>
      <a href="/fractus-demo.html" class="active">Demo</a>
    </div>
  </nav>

  <header class="demo-hero">
    <div class="hero-inner">
      <h1>üß† Fractus Scientific Demo</h1>
      <p class="subtitle">Per-image live benchmark ‚Äî Mapillary 5k (500-frame loop, 2 s / frame)</p>
    </div>
  </header>

  <main class="demo-container">
    <!-- ===== VIGNETTE (photo + meta) ===== -->
    <section class="lab-section">
      <div class="sample-viewer">
        <div>
          <img id="mapiImg" class="sample-thumb" alt="Fractus sample"/>
          <div id="thumbFallback" class="thumb-fallback" style="display:none;">image unavailable</div>
        </div>
        <div class="sample-meta">
          <div class="badge">üñºÔ∏è <span id="metaFilename">‚Äî</span></div>
          <div>üìç GT: <span id="metaGT" class="muted">‚Äî</span></div>
          <div>ü™™ Plonk err: <span id="metaPlonkErr">‚Äî</span></div>
          <div>üß¨ Fractus err: <span id="metaFracErr">‚Äî</span></div>
          <div>‚è±Ô∏è Frame: <span id="metaFrame">0 / 500</span></div>
        </div>
      </div>
    </section>

    <!-- ===== BLOC CENTRAL : 4 cartes autour de la roue ===== -->
    <section class="fractus-lab-center">
      <h2 class="lab-title">‚ö° Fractus Engine ‚Äî Real-Time Stability Monitor</h2>
      <div class="fractus-grid-core">
        <!-- (4 cartes + roue inchang√©s, supprim√© ici pour concision) -->
      </div>
    </section>
  </main>

  <footer>¬© 2025 Fractys ‚Äî Created by Marc Cedrych ‚Äî Built on Solana</footer>

  <script>
  document.addEventListener("DOMContentLoaded", () => {
    /* ------------ updateThumb modifi√© pour dossier local ------------ */
    function updateThumb(filename, gtLat, gtLon, idx){
      const id = filename.replace(/\.jpg$/i,'');
      const candidates = [
        `/demo_thumbs/${id}.jpg`, // version locale GitHub
      ];
      const img = document.getElementById('mapiImg');
      const fb  = document.getElementById('thumbFallback');
      let p=0; img.style.display=''; fb.style.display='none';
      function tryNext(){
        if(p>=candidates.length){
          img.style.display='none';
          fb.style.display='flex';
          return;
        }
        img.src = candidates[p++];
      }
      img.onerror = tryNext;
      tryNext();

      metaFilename.textContent = filename;
      metaGT.textContent = `${gtLat.toFixed(5)}, ${gtLon.toFixed(5)}`;
      metaFrame.textContent = `${idx+1} / ${LOOP_COUNT}`;
    }

    /* Le reste du script reste identique √† ta version actuelle */
  });
  </script>
</body>
</html>
