<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Fractus Demo — Powered by Fractys</title>
  <meta name="description" content="Scientific benchmark and visual demonstration of the Fractus Algorithm — fractal intelligence applied to AI, logs, and data patterns.">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/styles.css">
  <link rel="stylesheet" href="/demo.css">
</head>

<body class="fractus-access">
  <nav>
    <div class="brand">
      <img src="/logo.png" alt="Fractys logo"/>
      <span>Fractys (FTS)</span>
    </div>
    <div class="links">
      <a href="/index.html">Home</a>
      <a href="/fractus-access.html">Fractus Access</a>
      <a href="/airdrop.html">Airdrop</a>
      <a href="/fractus-demo.html" class="active">Demo</a>
    </div>
  </nav>

  <header class="demo-hero">
    <div class="hero-inner">
      <h1>🧠 Fractus Scientific Demo</h1>
      <p class="subtitle">Experimental benchmark and fractal intelligence visualization — Real data, Mapillary & system logs.</p>
    </div>
  </header>

  <main class="demo-container">
    <section class="lab-section">
      <h2 class="lab-title">Benchmark Plonk vs Fractus — 5 000 Mapillary Geotagged Images (France)</h2>
      <div class="lab-grid">
        <div class="lab-card"><h4>Average Error (km)</h4><canvas id="c_bench" class="lab-canvas"></canvas></div>
        <div class="lab-card"><h4>Entropy & Coherence</h4><canvas id="c_entropy" class="lab-canvas"></canvas></div>
        <div class="lab-card"><h4>Fractal Stability — Std Dev (km)</h4><canvas id="c_stability" class="lab-canvas"></canvas></div>
        <div class="lab-card"><h4>Processing Efficiency</h4><canvas id="c_eff" class="lab-canvas"></canvas></div>
      </div>

      <div class="fractus-visual">
        <h2>⚡ Fractus Engine — Real-Time Stability Monitor</h2>
        <canvas id="fractusCanvas"></canvas>
        <div class="live-monitor">
          <div class="monitor-item">🌀 Entropy: <span id="entropyVal">0.032</span></div>
          <div class="monitor-item">🔗 Coherence: <span id="coherenceVal">98.4 %</span></div>
          <div class="monitor-item">⚡ Efficiency: <span id="efficiencyVal">×1.30</span></div>
          <div class="monitor-item">📈 Stability: <span id="stabilityVal">σ = 90.6 km</span></div>
        </div>
      </div>
    </section>
  </main>

  <footer>© 2025 Fractys — Created by Marc Cedrych — Built on Solana</footer>

  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const METRICS = { entropy: 0.032, coherence: 98.4, efficiency: 1.30, stability: 90.6 };
    const clamp = (v,a,b)=>Math.max(a,Math.min(b,v));

    function prepCanvas(c,w,h){
      const dpr=window.devicePixelRatio||1;
      const cssW=w??c.clientWidth||300, cssH=h??c.clientHeight||150;
      c.width=Math.max(1,Math.floor(cssW*dpr));
      c.height=Math.max(1,Math.floor(cssH*dpr));
      const ctx=c.getContext("2d");
      ctx.setTransform(dpr,0,0,dpr,0,0);
      return{ctx,cssW,cssH};
    }

    /* === DRAW FRACTAL ENGINE === */
    const canvas=document.getElementById("fractusCanvas");
    let ctx,cssW,cssH;

    function initFractal(){
      ({ctx,cssW,cssH}=prepCanvas(canvas,Math.min(window.innerWidth*0.9,720),400));
      drawFractal();
    }
    window.addEventListener("resize",()=>initFractal());
    initFractal(); // ← démarre directement, plus de temporisation

    function drawFractal(){
      ctx.clearRect(0,0,cssW,cssH);
      const eNorm=(METRICS.entropy-0.028)/(0.045-0.028);
      const radius=50+Math.sin(performance.now()*0.003)*(8*eNorm+2);
      const grad=ctx.createRadialGradient(cssW/2,cssH/2,0,cssW/2,cssH/2,radius+80);
      grad.addColorStop(0,`rgba(127,255,212,${0.10+0.15*eNorm})`);
      grad.addColorStop(1,"rgba(0,0,0,0)");
      ctx.fillStyle=grad; ctx.beginPath();
      ctx.arc(cssW/2,cssH/2,radius+80,0,Math.PI*2); ctx.fill();

      const rings=9,baseR=40,stepR=35,N=10;
      for(let i=0;i<rings;i++){
        const r=baseR+i*stepR+Math.sin(performance.now()*0.002+i)*2;
        ctx.beginPath();
        ctx.strokeStyle=`hsl(${(i*28+performance.now()*0.02)%360},80%,70%)`;
        ctx.lineWidth=1.1; ctx.arc(cssW/2,cssH/2,r,0,Math.PI*2); ctx.stroke();
      }
      for(let i=0;i<N;i++){
        const angle=(performance.now()*0.001+i*0.5);
        const r=baseR+(i%(rings-2))*stepR;
        const x=cssW/2+Math.cos(angle)*r;
        const y=cssH/2+Math.sin(angle)*r;
        ctx.beginPath();
        ctx.fillStyle=i%2?'#7fffd4':'#80c0ff';
        ctx.arc(x,y,3,0,Math.PI*2); ctx.fill();
      }
      requestAnimationFrame(drawFractal);
    }

    /* === LIVE MONITOR === */
    function trendColor(n,o){if(n>o+1e-6)return'#ffe680';if(n<o-1e-6)return'#80c0ff';return'#7fffd4';}
    function updateMonitor(){
      const e=document.getElementById('entropyVal'),
            c=document.getElementById('coherenceVal'),
            f=document.getElementById('efficiencyVal'),
            s=document.getElementById('stabilityVal');
      const oldE=METRICS.entropy;     METRICS.entropy   = clamp(oldE + (Math.random()-0.5)*0.002, 0.028, 0.045);
      const oldC=METRICS.coherence;   METRICS.coherence = clamp(oldC + (Math.random()-0.5)*0.15, 97.0, 99.0);
      const oldF=METRICS.efficiency;  METRICS.efficiency= clamp(oldF + (Math.random()-0.5)*0.004, 1.28, 1.32);
      const oldS=METRICS.stability;   METRICS.stability = clamp(oldS + (Math.random()-0.5)*0.12, 90.0, 91.0);
      e.textContent=METRICS.entropy.toFixed(3); e.style.color=trendColor(METRICS.entropy,oldE);
      c.textContent=`${METRICS.coherence.toFixed(1)} %`; c.style.color=trendColor(METRICS.coherence,oldC);
      f.textContent=`×${METRICS.efficiency.toFixed(2)}`; f.style.color=trendColor(METRICS.efficiency,oldF);
      s.textContent=`σ = ${METRICS.stability.toFixed(1)} km`; s.style.color=trendColor(METRICS.stability,oldS);
    }
    setInterval(updateMonitor,1500);
  });
  </script>
</body>
</html>

