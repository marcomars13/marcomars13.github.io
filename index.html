<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Fractys (FTS) ‚Äî Official</title>
  <meta name="description" content="Created by Marc Cedrych, France ‚Äî Author & Researcher.">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="styles.css">
  <style>
    /* ===== MODULE FRACTYS CHART ===== */
    .chart-section {
      margin: 60px auto;
      max-width: 1080px;
      padding: 24px;
      background: rgba(0, 20, 20, 0.8);
      border: 1px solid rgba(0, 255, 200, 0.15);
      border-radius: 16px;
      box-shadow: 0 0 18px rgba(0,255,200,0.08);
      text-align: center;
    }
    .chart-section h2 {
      font-size: 1.6em;
      color: aquamarine;
      margin-bottom: 20px;
      text-shadow: 0 0 8px rgba(0,255,200,0.5);
    }
    .chart-frame {
      width: 100%;
      height: 880px;
      border: none;
      border-radius: 12px;
      overflow: hidden;
    }
    @media (max-width: 768px) {
      .chart-frame { height: 700px; }
    }
  </style>
</head>

<body>
  <!-- HERO SECTION -->
  <section class="hero">
    <div class="fractal-bg">
      <img src="fractys-banner.png" alt="Fractys background">
    </div>
    <div class="hero-inner">
      <h1>FRACTYS</h1>
      <div class="sub">(FTS)</div>
    </div>
  </section>

  <!-- NAVIGATION -->
  <nav>
    <div class="brand">
      <img src="logo.png" alt="Fractys logo"/>
      <span>Fractys (FTS)</span>
    </div>
    <div class="links">
      <a href="index.html" class="active">Home</a>
      <a href="airdrop.html">Airdrop</a>
      <a href="fractus-access.html">Fractus Access</a>
      <a href="fractus-demo.html">Demo</a>
      <a href="https://marcomars13.github.io/Fractys_Whitepaper_v2.0.png" target="_blank">Whitepaper</a>
      <a href="https://solscan.io/token/BMAT7DrBHBEqxm8vxUwcYaKjKBdvGEM2uLH3XuztFawy" target="_blank">Token</a>
      <a href="https://github.com/marcomars13" target="_blank">GitHub</a>
    </div>
  </nav>

  <!-- MAIN CONTENT -->
  <main class="container">
    <section class="section">
      <div class="grid">

        <!-- ABOUT -->
        <div class="card">
          <h3>About</h3>
          <p>
            <strong>Fractys</strong> is the evolution of the <em>Fractus Algorithm</em> ‚Äî a next-generation fractal engine merging AI, mathematics, and blockchain validation.
            Its goal is to make advanced pattern analysis accessible through transparent and decentralized tools.
            Fractys aims to build a simple, ethical, and verifiable ecosystem where innovation serves knowledge, not speculation.
          </p>
          <p><a class="btn" href="https://marcomars13.github.io/Fractys_Whitepaper_v2.0.png" target="_blank">Read the Whitepaper (EN/FR) ‚Üí</a></p>
        </div>

        <!-- PURPOSE -->
        <div class="card">
          <h3>Purpose of the Token</h3>
          <p>
            The <strong>FTS</strong> token is the utility key of the <em>Fractus Algorithm</em>. It allows users to acquire different levels of 
            <strong>Fractus Licenses¬Æ</strong> ‚Äî Trial, Research, or Professional ‚Äî granting access to real data analysis modules such as DNA sequencing, anomaly detection, and AI validation.
            Beyond its utility, FTS remains a tradable and verifiable digital asset on the Solana network, fully transparent and locked for one year.
            <br><em>(Fractus Licenses¬Æ ‚Äî patent pending)</em>
          </p>
          <p><a class="btn" href="https://solscan.io/token/BMAT7DrBHBEqxm8vxUwcYaKjKBdvGEM2uLH3XuztFawy" target="_blank">Open Token Page ‚Üí</a></p>
          <p><a class="btn" href="fractus-access.html">‚ö° Explore Fractus Access</a></p>
        </div>

        <!-- OFFICIAL LINKS + X FEED -->
        <div class="card links-card">
          <h3>Official Links</h3>
          <div class="social-icons">
            <a href="https://x.com/MarcFractys" target="_blank" title="X (Twitter)">
              <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" viewBox="0 0 24 24">
                <path d="M18.244 2H21l-6.475 7.396L22 22h-5.654l-4.377-6.44L6.018 22H3.25l6.89-7.872L2 2h5.75l4.006 5.93L18.244 2zm-2.037 18h1.17L8.338 4h-1.26l9.129 16z"/>
              </svg>
            </a>
            <a href="https://t.me/FractusToken" target="_blank" title="Telegram">
              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" viewBox="0 0 24 24">
                <path d="M9.993 15.574l-.395 4.453c.564 0 .806-.243 1.097-.534l2.628-2.497 5.443 3.99c.997.549 1.704.26 1.96-.918l3.55-16.662c.316-1.422-.513-1.977-1.488-1.632L1.723 9.683c-1.378.54-1.357 1.313-.235 1.66l4.37 1.364 10.145-6.4c.477-.289.911-.13.553.184"/>
              </svg>
            </a>
            <a href="https://github.com/marcomars13" target="_blank" title="GitHub">
              <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 .5C5.648.5.5 5.648.5 12c0 5.084 3.292 9.388 7.861 10.912.575.106.788-.25.788-.555v-1.936c-3.202.694-3.878-1.376-3.878-1.376-.523-1.327-1.278-1.682-1.278-1.682-1.045-.715.08-.7.08-.7 1.155.082 1.764 1.187 1.764 1.187 1.027 1.758 2.696 1.25 3.352.956.103-.743.402-1.25.73-1.54-2.554-.29-5.238-1.277-5.238-5.681 0-1.255.448-2.282 1.184-3.087-.119-.29-.512-1.458.112-3.04 0 0 .965-.308 3.164 1.176A10.978 10.978 0 0 1 12 6.844a10.94 10.94 0 0 1 2.88.387c2.197-1.484 3.16-1.176 3.16-1.176.626 1.582.233 2.75.115 3.04.738.805 1.182 1.832 1.182 3.087 0 4.418-2.69 5.387-5.252 5.673.414.358.782 1.068.782 2.152v3.189c0 .309.21.666.794.552C20.714 21.38 24 17.08 24 12 24 5.648 18.852.5 12 .5z"/>
              </svg>
            </a>
          </div>

          <!-- Flux X int√©gr√© proprement -->
          <div class="x-timeline" id="x-timeline"></div>
        </div>
      </div>
    </section>

    
<!-- üîπ FRACTYS LIVE ANALYTICS (drop-in) -->
<div class="card fractys-analytics" id="fractys-analytics">
  <h3>üîÆ Fractys Live Analytics</h3>

  <div class="stats-grid">
    <div><span>üí∞</span> Market Cap<br><strong id="fa-marketcap">‚Äî</strong></div>
    <div><span>üåä</span> Liquidity<br><strong id="fa-liquidity">‚Äî</strong></div>
    <div><span>üìä</span> Volume 24h<br><strong id="fa-volume">‚Äî</strong></div>
    <div><span>üë•</span> Holders<br><strong id="fa-holders">‚Äî</strong></div>
  </div>

  <div class="chart-container">
    <canvas id="fa-chart" height="220"></canvas>
    <div class="chart-fallback" id="fa-fallback">Loading live chart‚Ä¶</div>
  </div>

  <div class="update-info" id="fa-update">‚è±Ô∏è Updating‚Ä¶</div>
</div>

<!-- Scoped styles (n‚Äô√©crase rien ailleurs) -->
<style>
  .fractys-analytics{
    background: radial-gradient(circle at 50% -40%, rgba(0,255,180,.09), rgba(0,35,35,.9));
    border:1px solid rgba(0,255,200,.18);
    border-radius:16px; box-shadow:0 0 24px rgba(0,255,200,.12);
    overflow:hidden; position:relative;
  }
  .fractys-analytics h3{
    text-align:center; color:aquamarine; margin-bottom:14px;
    text-shadow:0 0 8px rgba(0,255,200,.6);
  }
  .stats-grid{
    display:grid; grid-template-columns:repeat(4,1fr); gap:12px;
    text-align:center; font-size:.92em; color:#a8ffee; margin-bottom:14px;
  }
  .stats-grid strong{ color:#fff; font-size:1.08em }
  .chart-container{
    position:relative; border-radius:12px; background:rgba(0,0,0,.25);
    box-shadow: inset 0 0 15px rgba(0,255,200,.18); padding:8px;
  }
  .chart-fallback{
    position:absolute; inset:8px; display:flex; align-items:center; justify-content:center;
    font-size:.9em; color:#7fffe6; opacity:.8; pointer-events:none;
  }
  .update-info{ margin-top:10px; text-align:center; font-size:.75em; color:#66ffe0; opacity:.9 }
  @media (max-width: 900px){ .stats-grid{ grid-template-columns:repeat(2,1fr) } }
</style>

<!-- Chart.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
(function(){
  const POOL_ID = "726rzzA2A7h3r7XPDuA8VfctM49KqezSL5N9dqE69u1c";
  const BASE = "https://api.geckoterminal.com/api/v2";
  const $ = (id)=>document.getElementById(id);

  const elCap = $("fa-marketcap");
  const elLiq = $("fa-liquidity");
  const elVol = $("fa-volume");
  const elHolders = $("fa-holders");
  const elUpd = $("fa-update");
  const fallback = $("fa-fallback");

  // ---- Utils
  const fmtUSD = v => (v==null||v==="") ? "‚Äî" :
    (Number(v)>=1000 ? "$"+Number(v).toLocaleString(undefined,{maximumFractionDigits:0})
                     : "$"+Number(v).toLocaleString(undefined,{maximumFractionDigits:2}));
  const nowStr = () => new Date().toLocaleTimeString([], {hour:"2-digit", minute:"2-digit"}) ;

  // ---- Chart
  const ctx = document.getElementById("fa-chart").getContext("2d");
  let chart = new Chart(ctx, {
    type: "line",
    data: { labels: [], datasets: [{
      label: "FTS/USD",
      data: [],
      borderWidth: 2,
      borderColor: "#00ffe0",
      backgroundColor: "rgba(0,255,200,0.06)",
      tension: 0.35,
      pointRadius: 0,
    }]},
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: { legend: { display:false }, tooltip: { mode:'index', intersect:false }},
      scales: {
        x: { ticks: { color:'#00fff0' }, grid: { color:'rgba(0,255,200,0.05)'}},
        y: { ticks: { color:'#00fff0' }, grid: { color:'rgba(0,255,200,0.05)'}, beginAtZero:false }
      }
    }
  });

  // ---- Fetch pool KPIs
  async function fetchKpis(){
    const url = `${BASE}/networks/solana/pools/${POOL_ID}`;
    const r = await fetch(url, { headers: { "accept":"application/json" }});
    const j = await r.json();
    const a = j?.data?.attributes || {};

    // GeckoTerminal ne fournit pas toujours "market cap" direct pour une micro-cap;
    // on remonte la liquidit√© comme proxy visuel + volume 24h.
    elLiq.textContent = fmtUSD(a.reserve_in_usd);
    elVol.textContent = fmtUSD(a.volume_usd);

    // Market cap (si dispo) sinon "‚Äî"
    elCap.textContent = a.fdv_usd ? fmtUSD(a.fdv_usd)
                     : a.market_cap_usd ? fmtUSD(a.market_cap_usd)
                     : "‚Äî";

    // Holders ‚Üí √† brancher plus tard sur Solscan ; on montre "‚Äî" par d√©faut si inconnu
    if (elHolders.textContent === "‚Äî") elHolders.textContent = "‚Äî";

    elUpd.textContent = `‚è±Ô∏è Updated: ${nowStr()} ‚Äî Source: GeckoTerminal`;
  }

  // ---- Fetch OHLCV for sparkline (multi-fallback)
  async function fetchOhlcv(){
    const candidates = [
      `${BASE}/networks/solana/pools/${POOL_ID}/ohlcv/hour?aggregate=1&limit=24`,
      `${BASE}/networks/solana/pools/${POOL_ID}/ohlcv/24h?limit=24`,
      `${BASE}/networks/solana/pools/${POOL_ID}/ohlcv/day?aggregate=1&limit=7`
    ];
    let data = null, lastErr = null;

    for (const url of candidates){
      try{
        const r = await fetch(url, { headers: { "accept":"application/json" }});
        if (!r.ok) { lastErr = new Error("HTTP "+r.status); continue; }
        const j = await r.json();
        const arr = j?.data?.attributes?.ohlcv_list || j?.data || [];
        if (Array.isArray(arr) && arr.length){
          data = arr;
          break;
        }
      }catch(e){ lastErr = e; }
    }

    if (!data){
      // Fallback visuel si l‚Äôendpoint change c√¥t√© API
      fallback.textContent = "Chart fallback ‚Äî awaiting OHLCV endpoint";
      fallback.style.display = "flex";
      return;
    }

    // Forme standard GeckoTerminal OHLCV: [timestamp, open, high, low, close, volume]
    const labels = [];
    const values = [];
    for (const row of data){
      const ts = row[0] || row.timestamp || row.time;
      const close = row[4] ?? row.close ?? row[1];
      labels.push(new Date(ts*1000).toLocaleTimeString([], {hour:"2-digit"}));
      values.push(Number(close));
    }

    chart.data.labels = labels;
    chart.data.datasets[0].data = values;
    chart.update();
    fallback.style.display = "none";
  }

  async function refreshAll(){
    try{
      await Promise.all([fetchKpis(), fetchOhlcv()]);
    }catch(e){
      elUpd.textContent = "‚ö†Ô∏è Data error ‚Äî retrying‚Ä¶";
    }
  }

  // Premi√®re charge + rafra√Æchissement r√©gulier
  refreshAll();
  setInterval(refreshAll, 60_000);

  // üëâ optionnel: setter les holders via Solscan plus tard
  // fetch('https://public-api.solscan.io/token/holders?tokenAddress=BMAT7DrBHBEqxm8vxUwcYaKjKBdvGEM2uLH3XuztFawy&offset=0&limit=1')
  //   .then(r=>r.json()).then(j=>{ elHolders.textContent = (j?.total || "‚Äî"); })
  //   .catch(()=>{});
})();
</script>

    <!-- FOOTER -->
    <footer>
      ¬© 2025 Fractys ‚Äî Created by Marc Cedrych ‚Äî Built on Solana
    </footer>
  </main>

  <!-- COUNTDOWN -->
  <script>
    const launchDate = new Date("October 22, 2025 18:00:00").getTime();
    setInterval(() => {
      const el = document.getElementById("countdown");
      if (!el) return;
      const diff = launchDate - new Date().getTime();
      if (diff < 0) { el.textContent = "üöÄ LIVE!"; return; }
      const d = Math.floor(diff/(1000*60*60*24));
      const h = Math.floor((diff%(1000*60*60*24))/(1000*60*60));
      const m = Math.floor((diff%(1000*60*60))/(1000*60));
      const s = Math.floor((diff%(1000*60))/1000);
      el.textContent = `${d}d ${h}h ${m}m ${s}s`;
    }, 1000);
  </script>

  <!-- Script officiel des widgets X -->
  <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

  <!-- Injection forc√©e du flux X -->
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const container = document.getElementById("x-timeline");
      function createFeed() {
        if (window.twttr && twttr.widgets) {
          twttr.widgets.createTimeline(
            { sourceType: "profile", screenName: "MarcFractys" },
            container,
            { theme: "dark", chrome: "noheader nofooter noborders transparent", tweetLimit: 3, width: "100%", height: "420" }
          );
        } else setTimeout(createFeed, 1000);
      }
      createFeed();
    });
  </script>
</body>
</html>

